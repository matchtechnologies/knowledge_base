## üêò PostgreSQL

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL –Ω–∞ Ubuntu

–ù–∞–±–∏—Ä–∞–µ–º –∫–æ–º–∞–Ω–¥—É –∏ —Å–æ–≥–ª–∞—à–∞–µ–º—Å—è –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

```sh
sudo apt-get update
sudo apt-get install -y postgresql
```

–Ω–∞–±–∏—Ä–∞–µ–º

```sh
sudo -u postgres psql template1
```

```sql
ALTER USER postgres with encrypted password 'postgres';
```

```sh
sudo vi /etc/postgresql/9.3/main/pg_hba.conf
```

–º–µ–Ω—è–µ–º –Ω–∞
```
local   all         postgres                          trust
```

–æ—Å—Ç–∞–ª–æ—Å—å
```sh
sudo /etc/init.d/postgresql restart
```

—Å–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ [üêò PostgreSQL > –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](create_user.md)

–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ [üêò PostgreSQL > –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î](connect.md)

—É –≤–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å —Ç–∞–∫–æ–π, –∏–Ω–∞—á–µ –≤–æ—Å–ø–æ–ª—å–∑—É—Ç–µ–π—Å—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π [## üêò PostgreSQL > –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ > –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏](./emergency.md#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∫–æ–¥–∏—Ä–æ–≤–∫–∏)

```sql
xx=# show server_encoding;
 server_encoding
-----------------
 UTF8
(1 row)
```

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PostGIS —Ç–æ –µ—â–µ
–Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è Ubuntu 20.04
```sh
sudo apt-get install -y postgis postgresql-12-postgis-3
```

–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ
```sql
CREATE EXTENSION postgis;
```

–≤ —Ç–µ–æ—Ä–∏–∏ –ø–æ—Ç–æ–º –¥–æ–ª–∂–Ω–æ –ø–æ–º–æ—á—å –∫–æ–º–∞–Ω–¥—ã –Ω–∏–∂–µ –æ—Ç postgres –∫ –±–¥, –Ω–æ —Ç—É—Ç —á—Ç–æ —Ç–æ –Ω–µ —Ç–∞–∫
```sql
GRANT ALL PRIVILEGES ON DATABASE dbname TO username;
GRANT USAGE ON SCHEMA public TO username;
```

https://stackoverflow.com/questions/61157620/create-extension-postgis-fails
https://stackoverflow.com/questions/22483555/postgresql-give-all-permissions-to-a-user-on-a-postgresql-database

–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞ –∑–∞–±–∏—Ç—å —Ç–æ —Ç–∞–∫
```sql
ALTER USER username with SUPERUSER CREATEDB;
```

–Ω–æ –µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∑–∞–±–∏—Ç—å
–ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö –∏ –¥–∞–º–ø–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
—Ç–æ –µ—Å—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É–ø–µ—Ä—é–∑–µ—Ä, –∞ –≤–æ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —É–∂–µ –æ–±—ã—á–Ω—ã–µ
–≤ —Ç–µ–æ—Ä–∏–∏ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å –µ—Å–ª–∏ —É–±—Ä–∞—Ç—å –∏–∑ –º–∏–≥—Ä–∞—Ü–∏–π, –ª–∏–±–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å
–∏ –±–µ–∫–∞–ø –¥–µ–ª–∞—Ç—å –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –±—É–¥—É—Ç –≤–æ–∑–º–æ–∂–Ω—ã –¥—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–≥–¥–∞ –Ω–∞–¥–æ –±—É–¥–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ